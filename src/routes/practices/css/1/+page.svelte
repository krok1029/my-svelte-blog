<script lang="ts">
	import Box from './Box.svelte';
	import PracticeLayout from '../../components/PracticeLayout.svelte';

	const boxesArray = new Array(60);

	const practiceInfo = {
		id: 1,
		title: 'Reveal Elements on Page Scroll with Animation using Vanilla Javascript',
		description:
			'ä½¿ç”¨ç´” JavaScript å¯¦ç¾æ»¾å‹•æ™‚å…ƒç´ é¡¯ç¤ºå‹•ç•«æ•ˆæœï¼Œçµåˆ CSS éæ¸¡å‹•ç•«å‰µé€ æµæš¢çš„è¦–è¦ºé«”é©—ã€‚',
		type: 'css' as const,
		difficulty: 'medium' as const,
		tags: ['animation', 'scroll', 'vanilla-js', 'intersection-observer'],
		concepts: [
			'Intersection Observer API',
			'CSS Transform å’Œ Transition',
			'JavaScript äº‹ä»¶è™•ç†',
			'éŸ¿æ‡‰å¼å‹•ç•«è¨­è¨ˆ'
		],
		codeExamples: [
			{
				title: 'HTML çµæ§‹',
				description: 'å»ºç«‹åŸºæœ¬çš„ HTML çµæ§‹ï¼ŒåŒ…å«å¤šå€‹éœ€è¦å‹•ç•«çš„å…ƒç´ å®¹å™¨ã€‚',
				code: `<div class="container">
  <div class="box">Content 1</div>
  <div class="box">Content 2</div>
  <!-- æ›´å¤šå…ƒç´ ... -->
</div>`,
				language: 'html'
			},
			{
				title: 'CSS å‹•ç•«è¨­å®š',
				description: 'ä½¿ç”¨ CSS Transform å’Œ Transition å±¬æ€§è¨­å®šå‹•ç•«æ•ˆæœã€‚',
				code: `.box {
  opacity: 0;
  transform: translateY(50px);
  transition: all 0.6s ease;
}

.box.show {
  opacity: 1;
  transform: translateY(0);
}`,
				language: 'css'
			},
			{
				title: 'JavaScript æ»¾å‹•åµæ¸¬',
				description: 'ä½¿ç”¨ Intersection Observer API åµæ¸¬å…ƒç´ é€²å…¥è¦–çª—çš„æ™‚æ©Ÿã€‚',
				code: `const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('show');
    }
  });
});

document.querySelectorAll('.box').forEach(box => {
  observer.observe(box);
});`,
				language: 'javascript'
			}
		]
	};
</script>

<PracticeLayout {practiceInfo}>
	{#snippet demo()}
		<div  class="demo-content">
			<section class="hero-section">
				<h2 class="hero-title">Scroll to Reveal</h2>
			</section>

			<div class="boxes-container">
				{#each boxesArray as _box}
					<Box />
				{/each}
			</div>
		</div>
	{/snippet}

	{#snippet tips()}
		<div >
			<div class="space-y-4">
				<p class="text-gray-700">
					é€™å€‹ç·´ç¿’å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ç¾ä»£çš„ Intersection Observer API ä¾†å‰µå»ºæ»¾å‹•å‹•ç•«æ•ˆæœï¼Œç›¸æ¯”å‚³çµ±çš„ scroll
					äº‹ä»¶ç›£è½ï¼Œå…·æœ‰æ›´å¥½çš„æ€§èƒ½è¡¨ç¾ã€‚
				</p>
				<div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
					<h4 class="font-semibold text-blue-900 mb-2">ğŸ’¡ å­¸ç¿’è¦é»ï¼š</h4>
					<ul class="text-blue-800 text-sm space-y-1">
						<li>â€¢ Intersection Observer æ¯” scroll äº‹ä»¶æ›´é«˜æ•ˆ</li>
						<li>â€¢ CSS transform æ¯”æ”¹è®Š position å±¬æ€§æ€§èƒ½æ›´å¥½</li>
						<li>â€¢ é©ç•¶çš„ transition timing è®“å‹•ç•«æ›´è‡ªç„¶</li>
						<li>â€¢ è€ƒæ…®ç”¨æˆ¶çš„å‹•ç•«åå¥½è¨­å®šï¼ˆprefers-reduced-motionï¼‰</li>
					</ul>
				</div>
			</div>
		</div>
	{/snippet}
</PracticeLayout>

<style>
	.demo-content {
		display: flex;
		justify-content: center;
		align-items: center;
		flex-direction: column;
		background-color: #111;
		overflow: hidden;
		min-height: 100vh;
	}

	.hero-section {
		display: flex;
		justify-content: center;
		align-items: center;
		min-height: 100vh;
	}

	.hero-title {
		position: relative;
		color: white;
		font-size: 8vw;
		font-weight: 500;
		text-align: center;
	}

	.boxes-container {
		position: relative;
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		grid-gap: 30px;
		width: 700px;
		max-width: 90%;
		top: -200px;
		padding-bottom: 200px;
	}

	@media (max-width: 768px) {
		.boxes-container {
			grid-template-columns: 1fr;
			width: 90%;
		}

		.hero-title {
			font-size: 12vw;
		}
	}
</style>
